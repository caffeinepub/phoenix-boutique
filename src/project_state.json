{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 39,
  "summary": "\"Phoenix Boutique\" scope includes Firebase integration while preserving offline-first behavior and the local database, plus role-based authentication/authorization. Implement Firebase Auth (Email/Password), fetch and cache user role from Firestore (/users/{uid}) for offline login, and apply role-based access control (ADMIN vs STAFF). Add an offline-to-online sync layer that uploads existing local (SQLite/IndexedDB) orders to Firestore + images to Firebase Storage with idempotency (no duplicates), triggered on app start, internet reconnect, and via a manual Sync button; persist the Firestore document ID back into the local DB and mark orders as synced. Extend the local order model to include sync tracking fields: cloudId, syncStatus, lastSyncedAt. Enhance sync with role-aware behavior and minimal conflict resolution: STAFF can sync only orders they created and must not sync financial fields; ADMIN can sync all fields and admin updates win when both roles updated the same order.",
  "architectural_notes": [
    "Cross-platform mobile app for Android and iOS (React Native / Flutter / Capacitor-based React).",
    "Offline-first: must run fully without internet.",
    "Use local on-device database (SQLite or equivalent).",
    "Initial deliverable is clean project structure + navigation only; screens are placeholders without UI/business logic.",
    "Dashboard pulls metrics + recent orders via local DB queries (no network) and auto-refreshes when orders change (e.g., on screen focus and/or via a local change notification/state update mechanism).",
    "Export features must be offline-only and sourced exclusively from the on-device local database (no internet).",
    "Design system for final polish: Primary #800020 (Deep Burgundy), Secondary #FFD700 (Gold), Background #FFFDD0 (Cream), Text #36454F; luxury boutique styling with rounded cards, soft shadows, smooth transitions; optimize for 375–414px layouts.",
    "Production release readiness: configure clean Android/iOS release build settings and ensure production assets; remove any demo/sample data from release builds.",
    "Hybrid offline + cloud: retain local on-device DB as source of offline functionality while integrating Firebase (Auth/Firestore/Storage) for optional online sync/backup; app must remain fully usable without network.",
    "Add Firebase Authentication (Email/Password) while preserving single-owner usability/offline access patterns."
  ],
  "known_issues": [
    "Deployment/build process encountered an unspecified technical error during deployment; user requested resolution."
  ],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-create-the-application-shell-for-an-app-named-phoenix-boutique-using-the-existing-react-typescript-template-with-a-clean-maintainable-project-structure-folders-for-screens-pages-navigation-routing-and-shared-ui-layout",
      "title": "Create the application shell for an app named \"Phoenix Boutique\" using the existing React+TypeScript template, with a clean, maintainable project structure (folders for screens/pages, navigation/routing, and shared UI/layout).",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-navigation-bottom-navigation-or-stack-navigation-that-provides-routes-to-four-placeholder-screens-dashboard-new-order-orders-list-and-order-details-wired-end-to-end-so-a-user-can-navigate-between-them",
      "title": "Implement navigation (bottom navigation or stack navigation) that provides routes to four placeholder screens: Dashboard, New Order, Orders List, and Order Details, wired end-to-end so a user can navigate between them.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-app-is-offline-first-and-runs-without-internet-by-not-requiring-any-network-calls-for-core-navigation-rendering-and-by-adding-client-side-local-persistence-scaffolding-using-a-local-database-equivalent-appropriate-for-the-current-stack-no-cloud-sync",
      "title": "Ensure the app is offline-first and runs without internet by not requiring any network calls for core navigation/rendering, and by adding client-side local persistence scaffolding using a local database equivalent appropriate for the current stack (no cloud sync).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-do-not-add-authentication-flows-or-login-ui-the-app-should-be-usable-without-any-sign-in-steps",
      "title": "Do not add authentication flows or login UI; the app should be usable without any sign-in steps.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-keep-the-backend-unused-for-this-initial-setup-do-not-build-backend-features-or-require-backend-connectivity-for-the-app-shell-navigation-or-offline-first-scaffolding",
      "title": "Keep the backend unused for this initial setup: do not build backend features or require backend connectivity for the app shell, navigation, or offline-first scaffolding.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-coherent-distinct-visual-theme-colors-typography-spacing-and-layout-appropriate-for-a-private-single-owner-boutique-business-app-and-use-it-consistently-across-the-app-shell-and-placeholder-screens-without-adding-business-ui-logic",
      "title": "Apply a coherent, distinct visual theme (colors, typography, spacing, and layout) appropriate for a private single-owner boutique business app, and use it consistently across the app shell and placeholder screens (without adding business UI logic).",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-dashboard-screen-that-reads-orders-from-the-existing-offline-local-database-indexeddb-and-displays-four-metric-tiles-computed-from-that-local-data-1-deliver-today-count-of-orders-where-deliverydate-is-today-and-status-is-pending-2-pending-orders-count-of-orders-where-status-is-pending-3-this-week-s-deliveries-count-of-orders-where-deliverydate-is-within-the-next-7-days-inclusive-of-today-4-total-orders-count-of-all-orders",
      "title": "Implement a Dashboard screen that reads orders from the existing offline local database (IndexedDB) and displays four metric tiles computed from that local data: (1) Deliver Today = count of orders where deliveryDate is today AND status is \"Pending\"; (2) Pending Orders = count of orders where status is \"Pending\"; (3) This Week’s Deliveries = count of orders where deliveryDate is within the next 7 days (inclusive of today); (4) Total Orders = count of all orders.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-dashboard-ui-to-use-a-tile-based-layout-with-color-coded-tiles-and-add-a-floating-new-order-action-button-that-navigates-to-the-existing-new-order-screen-using-the-app-s-navigationprovider",
      "title": "Update the Dashboard UI to use a tile-based layout with color-coded tiles and add a floating \"+ New Order\" action button that navigates to the existing \"new-order\" screen using the app’s NavigationProvider.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-recent-orders-section-on-the-dashboard-that-lists-the-last-5-created-orders-from-the-local-database-showing-order-id-customer-name-delivery-date-and-a-status-badge-for-each-order",
      "title": "Add a \"Recent Orders\" section on the Dashboard that lists the last 5 created orders from the local database, showing: Order ID, Customer Name, Delivery Date, and a Status badge for each order.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-dashboard-refreshes-automatically-when-new-orders-are-added-to-the-local-database-without-requiring-a-full-page-reload-e-g-by-invalidating-refetching-the-local-orders-query-when-the-local-db-is-written-to",
      "title": "Ensure the Dashboard refreshes automatically when new orders are added to the local database, without requiring a full page reload (e.g., by invalidating/refetching the local orders query when the local DB is written to).",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-local-database-service-layer-to-provide-typed-order-specific-read-helpers-required-by-the-dashboard-including-reading-all-orders-and-obtaining-the-most-recent-orders-by-createdat-while-keeping-storage-offline-first-and-within-indexeddb",
      "title": "Extend the local database service layer to provide typed, order-specific read helpers required by the Dashboard (including reading all orders and obtaining the most recent orders by createdAt), while keeping storage offline-first and within IndexedDB.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-global-design-tokens-to-match-the-provided-design-system-colors-and-apply-them-consistently-across-the-app-primary-800020-deep-burgundy-secondary-ffd700-gold-background-fffdd0-cream-text-36454f",
      "title": "Update the global design tokens to match the provided design system colors and apply them consistently across the app: Primary #800020 (Deep Burgundy), Secondary #FFD700 (Gold), Background #FFFDD0 (Cream), Text #36454F.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-boutique-luxury-ui-styling-across-core-layout-and-screens-using-tailwind-shadcn-composition-rounded-cards-soft-shadows-and-smooth-transitions-for-interactive-elements-buttons-list-items-nav-items-cards",
      "title": "Apply boutique luxury UI styling across core layout and screens using Tailwind + shadcn composition: rounded cards, soft shadows, and smooth transitions for interactive elements (buttons, list items, nav items, cards).",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-adjust-the-app-shell-and-screen-layout-to-be-mobile-first-for-a-375-414px-viewport-tune-max-content-width-spacing-and-fixed-position-elements-e-g-dashboard-floating-action-button-so-they-fit-comfortably-on-small-devices-without-overlapping-key-ui-including-the-bottom-navigation",
      "title": "Adjust the app shell and screen layout to be mobile-first for a 375–414px viewport: tune max content width, spacing, and fixed-position elements (e.g., Dashboard floating action button) so they fit comfortably on small devices without overlapping key UI (including the bottom navigation).",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-placeholder-ui-data-and-ensure-screens-only-show-real-data-from-the-local-indexeddb-or-clear-empty-states-when-there-is-no-data-specifically-remove-sample-navigation-actions-and-placeholder-copy-that-implies-fake-content-replace-with-offline-safe-empty-states-and-real-list-detail-wiring-where-applicable",
      "title": "Remove placeholder UI/data and ensure screens only show real data from the local IndexedDB (or clear empty states when there is no data). Specifically: remove “sample” navigation/actions and placeholder copy that implies fake content; replace with offline-safe empty states and real list/detail wiring where applicable.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-preserve-fast-load-and-offline-safe-behavior-during-polish-do-not-introduce-network-requirements-for-rendering-navigation-ensure-all-polished-ui-renders-without-waiting-on-network-resources-and-continues-to-operate-offline",
      "title": "Preserve fast-load and offline-safe behavior during polish: do not introduce network requirements for rendering/navigation; ensure all polished UI renders without waiting on network resources and continues to operate offline.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-add-offline-only-export-actions-that-generate-and-download-a-csv-file-for-a-today-s-orders-and-b-this-week-s-orders-sourced-exclusively-from-the-local-indexeddb-orders-data-no-backend-calls-no-internet-required",
      "title": "Add offline-only export actions that generate and download a CSV file for (a) today’s orders and (b) this week’s orders, sourced exclusively from the local IndexedDB orders data (no backend calls, no internet required).",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-printable-offline-safe-summary-view-that-can-be-opened-in-app-and-printed-using-the-browser-s-print-dialog-showing-a-clear-summary-of-daily-and-weekly-orders-sourced-from-indexeddb",
      "title": "Create a printable, offline-safe “Summary” view that can be opened in-app and printed using the browser’s print dialog, showing a clear summary of daily and weekly orders sourced from IndexedDB.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-export-and-print-entry-points-into-the-existing-navigation-and-screens-without-adding-authentication-or-backend-dependencies-e-g-add-an-export-or-reports-entry-point-from-the-orders-list-screen-and-add-a-new-navigation-route-screen-for-printing",
      "title": "Integrate export and print entry points into the existing navigation and screens without adding authentication or backend dependencies (e.g., add an “Export” or “Reports” entry point from the Orders List screen and add a new navigation route/screen for printing).",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-set-up-and-commit-a-clean-reproducible-mobile-release-build-configuration-so-the-project-can-produce-android-apk-aab-and-ios-ipa-artifacts-from-the-current-react-typescript-frontend",
      "title": "Set up and commit a clean, reproducible mobile release build configuration so the project can produce Android APK/AAB and iOS IPA artifacts from the current React+TypeScript frontend.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-production-build-uses-production-safe-configuration-remove-or-guard-debug-logging-ensure-consistent-environment-handling-and-eliminate-any-development-only-behavior-that-would-ship-to-end-users",
      "title": "Ensure the production build uses production-safe configuration: remove or guard debug logging, ensure consistent environment handling, and eliminate any development-only behavior that would ship to end users.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-deliver-production-ready-app-assets-for-android-and-ios-packaging-including-app-icons-and-splash-launch-imagery-and-wire-them-into-the-mobile-build-so-they-appear-correctly-on-device",
      "title": "Deliver production-ready app assets for Android and iOS packaging, including app icons and splash/launch imagery, and wire them into the mobile build so they appear correctly on-device.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-any-demo-sample-seed-data-paths-so-the-production-build-never-populates-indexeddb-with-fake-orders-and-the-ui-only-reflects-real-user-entered-data-or-empty-states",
      "title": "Remove any demo/sample/seed data paths so the production build never populates IndexedDB with fake orders and the UI only reflects real user-entered data or empty states.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-add-concise-production-build-documentation-for-maintainers-covering-release-build-commands-signing-requirements-placeholders-steps-and-how-to-generate-android-and-ios-release-artifacts-without-introducing-backend-dependencies",
      "title": "Add concise production build documentation for maintainers covering release build commands, signing requirements (placeholders/steps), and how to generate Android and iOS release artifacts without introducing backend dependencies.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-reproduce-the-reported-deployment-failure-identify-the-concrete-root-cause-capture-the-exact-error-message-stack-and-implement-the-minimal-code-config-changes-needed-so-the-project-deploys-successfully",
      "title": "Reproduce the reported deployment failure, identify the concrete root cause (capture the exact error message/stack), and implement the minimal code/config changes needed so the project deploys successfully.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-duplicate-react-query-provider-setup-so-there-is-only-a-single-queryclientprovider-in-the-app-tree-frontend-src-main-tsx-is-immutable-ensuring-the-production-build-does-not-fail-or-warn-due-to-provider-duplication-or-inconsistent-queryclient-usage",
      "title": "Fix the duplicate React Query provider setup so there is only a single QueryClientProvider in the app tree (frontend/src/main.tsx is immutable), ensuring the production build does not fail or warn due to provider duplication or inconsistent QueryClient usage.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-frontend-order-data-model-used-for-indexeddb-persistence-to-include-pricing-payment-and-audit-fields-pricetotal-number-advancepaid-number-balanceamount-number-paymentstatus-unpaid-partial-paid-paymentmethod-cash-upi-card-other-and-notes-optional-string",
      "title": "Extend the frontend Order data model (used for IndexedDB persistence) to include pricing, payment, and audit fields: priceTotal (number), advancePaid (number), balanceAmount (number), paymentStatus (\"Unpaid\" | \"Partial\" | \"Paid\"), paymentMethod (\"Cash\" | \"UPI\" | \"Card\" | \"Other\"), and notes (optional string).",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-automatic-calculation-normalization-for-derived-payment-fields-so-that-balanceamount-always-equals-pricetotal-advancepaid-and-paymentstatus-automatically-reflects-the-amounts-unpaid-when-advancepaid-0-and-pricetotal-0-partial-when-0-advancepaid-pricetotal-paid-when-advancepaid-pricetotal-also-clamp-negative-invalid-numeric-inputs-to-safe-values-during-normalization-to-prevent-nan-infinity-from-propagating-into-ui-exports",
      "title": "Implement automatic calculation/normalization for derived payment fields so that balanceAmount always equals (priceTotal - advancePaid) and paymentStatus automatically reflects the amounts: Unpaid when advancePaid <= 0 and priceTotal > 0; Partial when 0 < advancePaid < priceTotal; Paid when advancePaid >= priceTotal; also clamp negative/invalid numeric inputs to safe values during normalization to prevent NaN/Infinity from propagating into UI/exports.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-migrate-existing-indexeddb-stored-orders-safely-to-include-the-new-fields-with-default-values-without-data-loss-bump-the-indexeddb-schema-version-and-during-upgrade-update-existing-order-records-to-have-defaults-pricetotal-0-advancepaid-0-balanceamount-0-paymentstatus-unpaid-paymentmethod-cash-notes-while-preserving-all-existing-order-fields-id-orderid-customername-dates-measurements-productdetails-images-status-deliveredat-createdat",
      "title": "Migrate existing IndexedDB-stored orders safely to include the new fields with default values, without data loss. Bump the IndexedDB schema version and, during upgrade, update existing order records to have defaults (priceTotal=0, advancePaid=0, balanceAmount=0, paymentStatus=\"Unpaid\", paymentMethod=\"Cash\", notes=\"\") while preserving all existing order fields (id/orderId/customerName/dates/measurements/productDetails/images/status/deliveredAt/createdAt).",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-order-details-screen-to-display-the-new-pricing-payment-fields-and-notes-in-english-using-the-same-boutique-card-styling-as-existing-sections-if-notes-is-empty-show-an-appropriate-empty-state-label-e-g-no-notes",
      "title": "Update the Order Details screen to display the new pricing/payment fields and notes (in English), using the same boutique card styling as existing sections. If notes is empty, show an appropriate empty state label (e.g., \"No notes\").",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-current-placeholder-new-order-screen-with-an-offline-first-order-form-that-includes-the-pricing-payment-fields-total-price-required-numeric-input-advance-paid-optional-numeric-input-balance-amount-auto-calculated-read-only-payment-method-dropdown-and-payment-status-auto-derived-read-only",
      "title": "Replace the current placeholder New Order screen with an offline-first order form that includes the pricing/payment fields: Total Price (required numeric input), Advance Paid (optional numeric input), Balance Amount (auto-calculated, read-only), Payment Method (dropdown), and Payment Status (auto-derived, read-only).",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-pricing-payment-calculation-and-validation-behavior-on-new-order-and-edit-order-screens-balance-amount-total-price-advance-paid-payment-status-derived-from-amounts-0-paid-unpaid-partial-partial-fully-paid-paid-validate-that-total-price-is-0-and-advance-paid-is-not-greater-than-total-price",
      "title": "Implement the pricing/payment calculation and validation behavior on New Order and Edit Order screens: Balance Amount = Total Price - Advance Paid; Payment Status derived from amounts (0 paid -> Unpaid, partial -> Partial, fully paid -> Paid); validate that Total Price is >= 0 and Advance Paid is not greater than Total Price.",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-edit-order-screen-that-allows-editing-an-existing-order-s-pricing-payment-fields-total-price-advance-paid-payment-method-while-keeping-balance-amount-and-payment-status-auto-derived-and-read-only",
      "title": "Add an Edit Order screen that allows editing an existing order’s pricing/payment fields (Total Price, Advance Paid, Payment Method) while keeping Balance Amount and Payment Status auto-derived and read-only.",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-persist-pricing-payment-changes-offline-by-saving-new-orders-and-edited-orders-to-the-existing-indexeddb-orders-store-and-ensure-the-rest-of-the-app-dashboard-orders-list-order-details-reflects-the-updates-via-the-existing-live-query-invalidation-mechanism",
      "title": "Persist pricing/payment changes offline by saving new orders and edited orders to the existing IndexedDB orders store, and ensure the rest of the app (Dashboard, Orders List, Order Details) reflects the updates via the existing live query invalidation mechanism.",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-update-payment-action-in-the-order-details-screen-that-is-available-when-an-order-is-loaded-using-english-user-facing-text",
      "title": "Add an \"Update Payment\" action in the Order Details screen that is available when an order is loaded, using English user-facing text.",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-an-offline-first-update-payment-flow-that-supports-a-recording-an-additional-payment-amount-and-b-updating-the-total-advance-paid-value-and-always-recalculates-balanceamount-and-paymentstatus-using-the-same-rules-as-existing-pricing-payment-behavior",
      "title": "Implement an offline-first \"Update Payment\" flow that supports (a) recording an additional payment amount and (b) updating the total advance paid value, and always recalculates balanceAmount and paymentStatus using the same rules as existing pricing/payment behavior.",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-offline-order-data-model-stored-in-indexeddb-to-preserve-payment-history-entries-for-each-payment-update-and-migrate-existing-stored-orders-safely-by-adding-a-default-empty-payment-history-field",
      "title": "Extend the offline Order data model stored in IndexedDB to preserve payment history entries for each payment update, and migrate existing stored orders safely by adding a default empty payment history field.",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-allow-audit-notes-to-be-attached-to-payment-updates-and-persist-them-in-a-way-that-is-preserved-alongside-the-payment-history",
      "title": "Allow audit notes to be attached to payment updates and persist them in a way that is preserved alongside the payment history.",
      "reqIds": [
        "REQ-38"
      ],
      "version": 1
    },
    {
      "id": "feature-display-a-payment-history-section-on-the-order-details-screen-that-lists-recorded-payment-updates-in-reverse-chronological-order-with-clear-formatting-and-an-empty-state-when-no-history-exists",
      "title": "Display a \"Payment History\" section on the Order Details screen that lists recorded payment updates in reverse chronological order with clear formatting and an empty state when no history exists.",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-frontend-only-audit-calculation-utilities-module-that-computes-aggregate-metrics-from-the-offline-indexeddb-order-dataset-without-any-backend-calls",
      "title": "Create a frontend-only audit calculation utilities module that computes aggregate metrics from the offline IndexedDB Order dataset, without any backend calls.",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-audit-filters-for-today-this-week-this-month-and-custom-date-range-and-apply-filtering-based-on-a-configurable-date-basis-of-either-order-bookingdate-or-order-deliveredat",
      "title": "Implement audit filters for Today, This Week, This Month, and Custom date range, and apply filtering based on a configurable date basis of either order.bookingDate or order.deliveredAt.",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-compute-total-collected-using-both-the-current-advancepaid-value-and-the-order-payment-history-so-that-additional-payments-recorded-via-paymenthistory-are-accounted-for-without-double-counting",
      "title": "Compute Total Collected using both the current advancePaid value and the order payment history, so that additional payments recorded via paymentHistory are accounted for without double-counting.",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-new-frontend-screen-named-audit-accounts-that-reads-orders-from-the-existing-offline-indexeddb-live-query-and-displays-three-sections-1-summary-cards-total-revenue-amount-collected-pending-balance-total-orders-2-time-filters-today-this-week-this-month-custom-date-range-3-payment-breakdown-paid-orders-count-partial-orders-count-unpaid-orders-count-all-user-facing-text-must-be-english-and-all-currency-values-must-display-the-symbol-clearly",
      "title": "Create a new frontend screen named \"Audit & Accounts\" that reads orders from the existing offline IndexedDB live query and displays three sections: (1) Summary Cards: Total Revenue, Amount Collected, Pending Balance, Total Orders; (2) Time Filters: Today, This Week, This Month, Custom Date Range; (3) Payment Breakdown: Paid Orders count, Partial Orders count, Unpaid Orders count. All user-facing text must be English and all currency values must display the ₹ symbol clearly.",
      "reqIds": [
        "REQ-43"
      ],
      "version": 1
    },
    {
      "id": "feature-wire-the-new-audit-accounts-screen-into-the-existing-in-app-navigation-so-it-can-be-opened-from-the-app-ui-without-modifying-any-immutable-frontend-paths",
      "title": "Wire the new \"Audit & Accounts\" screen into the existing in-app navigation so it can be opened from the app UI, without modifying any immutable frontend paths.",
      "reqIds": [
        "REQ-44"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-existing-audit-calculation-utilities-to-support-the-audit-accounts-screen-requirements-by-providing-counts-for-paid-partial-and-unpaid-orders-separately-not-combining-partial-into-unpaid-while-keeping-the-existing-totals-revenue-collected-outstanding-orders-count-compatible-with-current-usage",
      "title": "Extend the existing audit calculation utilities to support the Audit & Accounts screen requirements by providing counts for Paid, Partial, and Unpaid orders separately (not combining Partial into Unpaid), while keeping the existing totals (revenue, collected, outstanding, orders count) compatible with current usage.",
      "reqIds": [
        "REQ-45"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-consistent-currency-formatting-for-the-audit-accounts-screen-totals-total-revenue-amount-collected-pending-balance-and-ensure-values-remain-safe-to-render-no-nan-infinity-shown-even-if-underlying-numeric-fields-are-missing-or-invalid",
      "title": "Implement consistent ₹ currency formatting for the Audit & Accounts screen totals (Total Revenue, Amount Collected, Pending Balance) and ensure values remain safe to render (no NaN/Infinity shown), even if underlying numeric fields are missing or invalid.",
      "reqIds": [
        "REQ-46"
      ],
      "version": 1
    },
    {
      "id": "feature-add-two-new-offline-audit-csv-export-actions-weekly-audit-csv-and-monthly-audit-csv-sourced-exclusively-from-the-local-indexeddb-orders-data-no-backend-calls-no-internet-required",
      "title": "Add two new offline audit CSV export actions: \"Weekly Audit CSV\" and \"Monthly Audit CSV\", sourced exclusively from the local IndexedDB orders data (no backend calls, no internet required).",
      "reqIds": [
        "REQ-47"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-weekly-audit-csv-and-monthly-audit-csv-generation-so-the-csv-includes-exactly-these-columns-in-this-order-order-id-customer-name-total-price-paid-amount-balance-amount-payment-status-payment-method-delivery-date",
      "title": "Implement the Weekly Audit CSV and Monthly Audit CSV generation so the CSV includes exactly these columns (in this order): Order ID, Customer Name, Total Price, Paid Amount, Balance Amount, Payment Status, Payment Method, Delivery Date.",
      "reqIds": [
        "REQ-48"
      ],
      "version": 1
    },
    {
      "id": "feature-define-and-apply-audit-period-filters-for-the-new-exports-weekly-audit-csv-and-monthly-audit-csv-must-select-orders-by-delivery-date-for-the-relevant-period-using-local-timezone-safe-boundaries",
      "title": "Define and apply audit period filters for the new exports: Weekly Audit CSV and Monthly Audit CSV must select orders by delivery date for the relevant period, using local-timezone-safe boundaries.",
      "reqIds": [
        "REQ-49"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-printable-offline-safe-printable-audit-summary-view-that-can-be-opened-in-app-and-printed-using-the-browser-s-print-dialog-showing-weekly-and-monthly-audit-summaries-sourced-from-indexeddb-and-wire-it-into-the-existing-navigation-and-reports-screen",
      "title": "Add a new printable, offline-safe \"Printable Audit Summary\" view that can be opened in-app and printed using the browser’s print dialog, showing weekly and monthly audit summaries sourced from IndexedDB, and wire it into the existing navigation and Reports screen.",
      "reqIds": [
        "REQ-50"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-an-android-release-apk-artifact-for-phoenix-boutique-suitable-for-installation-distribution-using-the-existing-mobile-release-build-configuration-and-make-the-produced-apk-available-as-a-build-output-with-a-clearly-identifiable-filename",
      "title": "Generate an Android **release** APK artifact for Phoenix Boutique suitable for installation/distribution, using the existing mobile release build configuration, and make the produced APK available as a build output with a clearly identifiable filename.",
      "reqIds": [
        "REQ-51"
      ],
      "version": 1
    },
    {
      "id": "feature-add-firebase-client-configuration-and-initialization-to-the-phoenix-boutique-frontend-using-environment-based-configuration-no-hardcoded-secrets-in-source",
      "title": "Add Firebase client configuration and initialization to the Phoenix Boutique frontend using environment-based configuration (no hardcoded secrets in source).",
      "reqIds": [
        "REQ-52"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-firebase-authentication-with-email-password-including-ui-to-sign-up-sign-in-and-sign-out-without-blocking-offline-use-of-the-app",
      "title": "Implement Firebase Authentication with Email/Password, including UI to sign up, sign in, and sign out, without blocking offline use of the app.",
      "reqIds": [
        "REQ-53"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-firestore-as-a-cloud-datastore-for-orders-by-adding-an-optional-sync-layer-that-can-upload-local-orders-and-download-remote-orders-when-the-user-is-authenticated-and-the-network-is-available-while-preserving-local-indexeddb-as-the-source-of-offline-truth",
      "title": "Integrate Firestore as a cloud datastore for orders by adding an optional sync layer that can upload local orders and download remote orders when the user is authenticated and the network is available, while preserving local IndexedDB as the source of offline truth.",
      "reqIds": [
        "REQ-54"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-firebase-storage-for-order-images-by-adding-upload-and-download-support-that-keeps-images-usable-offline-and-only-syncs-to-storage-when-online-and-authenticated",
      "title": "Integrate Firebase Storage for order images by adding upload and download support that keeps images usable offline and only syncs to Storage when online and authenticated.",
      "reqIds": [
        "REQ-55"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-user-accessible-sync-status-and-manual-sync-now-action-in-the-ui-that-clearly-communicates-offline-online-state-and-authentication-state-without-changing-core-navigation-behavior-or-requiring-network-for-rendering",
      "title": "Add a user-accessible sync status and manual 'Sync now' action in the UI that clearly communicates offline/online state and authentication state, without changing core navigation behavior or requiring network for rendering.",
      "reqIds": [
        "REQ-56"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-existing-local-orders-are-preserved-across-the-firebase-integration-rollout-and-that-no-migration-deletes-resets-or-replaces-the-current-local-orders-store",
      "title": "Ensure existing local orders are preserved across the Firebase integration rollout and that no migration deletes, resets, or replaces the current local orders store.",
      "reqIds": [
        "REQ-57"
      ],
      "version": 1
    },
    {
      "id": "feature-introduce-a-frontend-role-permissions-state-that-the-ui-can-read-to-determine-whether-the-current-user-is-admin-or-staff-and-default-to-the-most-restrictive-behavior-when-role-is-unknown-or-unavailable",
      "title": "Introduce a frontend role/permissions state that the UI can read to determine whether the current user is ADMIN or STAFF, and default to the most restrictive behavior when role is unknown or unavailable.",
      "reqIds": [
        "REQ-58"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-rbac-to-orders-list-ui-so-staff-cannot-view-financial-information-or-reach-restricted-areas-hide-disable-price-and-payment-related-displays-and-hide-disable-navigation-entry-points-to-audit-export-reporting-features-for-staff",
      "title": "Apply RBAC to Orders List UI so STAFF cannot view financial information or reach restricted areas: hide/disable price and payment-related displays and hide/disable navigation entry points to audit/export/reporting features for STAFF.",
      "reqIds": [
        "REQ-59"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-rbac-to-order-details-ui-so-staff-cannot-view-or-edit-prices-payments-cannot-access-payment-history-and-cannot-perform-restricted-actions-including-delete-admin-retains-full-access",
      "title": "Apply RBAC to Order Details UI so STAFF cannot view or edit prices & payments, cannot access payment history, and cannot perform restricted actions (including delete). ADMIN retains full access.",
      "reqIds": [
        "REQ-60"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-rbac-to-new-order-and-edit-order-screens-so-staff-can-create-orders-and-edit-only-non-financial-fields-while-admin-can-create-edit-including-pricing-payment-fields",
      "title": "Apply RBAC to New Order and Edit Order screens so STAFF can create orders and edit only non-financial fields, while ADMIN can create/edit including pricing & payment fields.",
      "reqIds": [
        "REQ-61"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-rbac-to-reports-audit-accounts-and-export-print-features-so-staff-cannot-view-audits-exports-and-admin-can-access-all-reporting-features",
      "title": "Apply RBAC to Reports, Audit & Accounts, and export/print features so STAFF cannot view audits/exports and ADMIN can access all reporting features.",
      "reqIds": [
        "REQ-62"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-admin-only-staff-management-area-in-the-ui-and-ensure-it-is-fully-hidden-disabled-for-staff",
      "title": "Add an ADMIN-only “Staff Management” area in the UI and ensure it is fully hidden/disabled for STAFF.",
      "reqIds": [
        "REQ-63"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-all-restricted-ui-states-are-communicated-clearly-in-english-and-are-implemented-as-both-hiding-and-disabling-where-appropriate-to-prevent-accidental-access-paths-without-modifying-any-immutable-frontend-paths",
      "title": "Ensure all restricted UI states are communicated clearly in English and are implemented as both hiding and disabling where appropriate (to prevent accidental access paths), without modifying any immutable frontend paths.",
      "reqIds": [
        "REQ-64"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-firestore-order-sync-so-that-existing-local-offline-orders-sqlite-equivalent-local-store-currently-indexeddb-are-uploaded-to-firestore-without-creating-duplicates-and-the-resulting-firestore-document-id-is-persisted-back-into-the-local-order-record",
      "title": "Implement Firestore order sync so that existing local offline orders (SQLite-equivalent local store; currently IndexedDB) are uploaded to Firestore without creating duplicates, and the resulting Firestore document ID is persisted back into the local order record.",
      "reqIds": [
        "REQ-65"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-image-upload-during-sync-so-that-each-order-s-local-images-are-uploaded-to-firebase-storage-during-the-same-sync-pass-and-the-resulting-storage-urls-or-storage-paths-as-needed-are-persisted-back-into-the-local-order-record-and-included-in-the-firestore-order-document",
      "title": "Implement image upload during sync so that each order’s local images are uploaded to Firebase Storage during the same sync pass, and the resulting Storage URLs (or storage paths as needed) are persisted back into the local order record and included in the Firestore order document.",
      "reqIds": [
        "REQ-66"
      ],
      "version": 1
    },
    {
      "id": "feature-wire-sync-triggers-to-run-automatically-on-1-app-start-after-offline-db-initialization-2-internet-reconnect-online-event-and-3-the-existing-manual-sync-button-without-making-the-app-require-network-connectivity-for-navigation-rendering",
      "title": "Wire sync triggers to run automatically on (1) app start (after offline DB initialization), (2) internet reconnect (online event), and (3) the existing manual sync button, without making the app require network connectivity for navigation/rendering.",
      "reqIds": [
        "REQ-67"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-current-firebase-firestore-and-storage-stub-implementations-with-working-implementations-when-the-firebase-sdk-is-installed-and-configuration-is-present-to-support-the-order-image-sync-flow-end-to-end",
      "title": "Replace the current Firebase Firestore and Storage stub implementations with working implementations (when the Firebase SDK is installed and configuration is present) to support the order+image sync flow end-to-end.",
      "reqIds": [
        "REQ-68"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-local-indexeddb-persisted-order-data-model-to-include-sync-tracking-fields-cloudid-string-null-syncstatus-pending-synced-and-lastsyncedat-timestamp-null-without-changing-or-removing-any-existing-order-fields",
      "title": "Extend the local (IndexedDB-persisted) Order data model to include sync tracking fields: cloudId (string | null), syncStatus (\"pending\" | \"synced\"), and lastSyncedAt (timestamp | null), without changing or removing any existing order fields.",
      "reqIds": [
        "REQ-69"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-safe-indexeddb-schema-migration-to-backfill-the-new-sync-tracking-fields-for-existing-stored-orders-preserving-all-existing-order-data-and-values",
      "title": "Add a safe IndexedDB schema migration to backfill the new sync tracking fields for existing stored orders, preserving all existing order data and values.",
      "reqIds": [
        "REQ-70"
      ],
      "version": 1
    },
    {
      "id": "feature-update-local-order-normalization-so-that-the-new-sync-tracking-fields-are-always-present-in-the-normalized-order-objects-returned-from-repository-read-functions-without-adding-any-new-business-rules",
      "title": "Update local order normalization so that the new sync tracking fields are always present in the normalized Order objects returned from repository read functions, without adding any new business rules.",
      "reqIds": [
        "REQ-71"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-the-existing-sanitizeorderforsync-order-userrole-behavior-into-the-app-s-firestore-upload-payload-so-that-staff-uploads-exclude-all-financial-fields-pricetotal-advancepaid-balanceamount-paymentstatus-paymentmethod-while-admin-uploads-include-all-fields",
      "title": "Integrate the existing `sanitizeOrderForSync(order, userRole)` behavior into the app’s Firestore upload payload so that STAFF uploads exclude all financial fields (`priceTotal`, `advancePaid`, `balanceAmount`, `paymentStatus`, `paymentMethod`) while ADMIN uploads include all fields.",
      "reqIds": [
        "REQ-72"
      ],
      "version": 1
    },
    {
      "id": "feature-wire-the-existing-syncordertocloud-localorder-user-behavior-into-the-current-pending-orders-sync-path-used-by-syncorders-in-frontend-src-services-orderssyncservice-ts-so-that-each-eligible-order-s-upload-uses-the-role-aware-sanitized-payload-staff-sanitized-admin-full",
      "title": "Wire the existing `syncOrderToCloud(localOrder, user)` behavior into the current pending-orders sync path used by `syncOrders` (in `frontend/src/services/ordersSyncService.ts`) so that each eligible order’s upload uses the role-aware sanitized payload (STAFF sanitized, ADMIN full).",
      "reqIds": [
        "REQ-73"
      ],
      "version": 1
    },
    {
      "id": "feature-propagate-the-current-user-role-into-the-sync-service-from-both-auto-sync-and-manual-sync-entry-points-update-call-sites-so-role-is-available-when-triggering-sync-from-useordersautosync-and-from-the-reports-screen-manual-sync-now-action",
      "title": "Propagate the current user role into the sync service from both auto-sync and manual sync entry points: update call sites so role is available when triggering sync from `useOrdersAutoSync` and from the Reports screen manual “Sync Now” action.",
      "reqIds": [
        "REQ-74"
      ],
      "version": 1
    },
    {
      "id": "feature-enforce-the-staff-scope-rule-in-the-sync-flow-when-role-is-staff-only-sync-orders-created-by-that-staff-user-orders-that-are-not-verifiably-created-by-the-current-staff-user-must-be-skipped-and-must-not-be-overwritten-in-firestore",
      "title": "Enforce the STAFF scope rule in the sync flow: when role is STAFF, only sync orders created by that STAFF user; orders that are not verifiably created by the current STAFF user must be skipped and must not be overwritten in Firestore.",
      "reqIds": [
        "REQ-75"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-minimal-conflict-behavior-consistent-with-if-both-admin-and-staff-updated-the-same-order-admin-changes-must-win-by-ensuring-staff-uploads-never-overwrite-financial-fields-in-firestore-and-admin-uploads-always-include-financial-fields-so-admin-writes-take-precedence-for-financial-data",
      "title": "Implement minimal conflict behavior consistent with: “If both Admin and Staff updated the same order, Admin changes must win” by ensuring STAFF uploads never overwrite financial fields in Firestore, and ADMIN uploads always include financial fields (so ADMIN writes take precedence for financial data).",
      "reqIds": [
        "REQ-76"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-firestore-audit-logging-service-that-writes-documents-to-the-auditlogs-collection-for-these-actions-order-created-order-updated-payment-updated-order-deleted-each-log-entry-must-include-action-string-enum-orderid-use-the-human-facing-order-orderid-localid-when-available-actor-userid-actor-role-timestamp-and-a-small-details-object-for-action-specific-metadata-e-g-payment-amount-mode-for-payment-updates-logging-must-be-best-effort-and-must-not-break-offline-first-behavior-if-firebase-firestore-is-not-configured-or-the-user-is-not-authenticated-the-app-must-continue-normally-and-the-audit-write-must-be-skipped-with-a-safe-error-message-no-crashes",
      "title": "Implement a Firestore audit logging service that writes documents to the `/auditLogs` collection for these actions: Order created, Order updated, Payment updated, Order deleted. Each log entry must include: action (string enum), orderId (use the human-facing `order.orderId`), localId when available, actor userId, actor role, timestamp, and a small `details` object for action-specific metadata (e.g., payment amount/mode for payment updates). Logging must be best-effort and must not break offline-first behavior: if Firebase/Firestore is not configured or the user is not authenticated, the app must continue normally and the audit write must be skipped with a safe error message (no crashes).",
      "reqIds": [
        "REQ-77"
      ],
      "version": 1
    },
    {
      "id": "feature-wire-audit-logging-calls-into-the-existing-app-flows-so-the-correct-audit-action-is-recorded-at-the-time-the-action-occurs-1-after-a-successful-local-order-creation-2-after-a-successful-local-order-update-including-edits-3-after-a-successful-payment-update-from-the-update-payment-dialog-and-4-after-a-successful-order-delete-use-the-currently-authenticated-firebase-user-uid-and-current-role-state-when-available-do-not-introduce-any-new-authentication-requirements-for-core-app-usage",
      "title": "Wire audit logging calls into the existing app flows so the correct audit action is recorded at the time the action occurs: (1) after a successful local order creation, (2) after a successful local order update (including edits), (3) after a successful payment update (from the Update Payment dialog), and (4) after a successful order delete. Use the currently authenticated Firebase user (uid) and current role state when available; do not introduce any new authentication requirements for core app usage.",
      "reqIds": [
        "REQ-78"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-admin-only-audit-logs-screen-that-lists-recent-audit-log-entries-from-firestore-auditlogs-in-reverse-chronological-order-newest-first-with-clear-english-labels-and-formatting-the-screen-must-be-fully-inaccessible-to-staff-it-must-be-hidden-from-staff-navigation-entry-points-and-must-show-an-access-denied-screen-if-a-staff-user-reaches-the-route-indirectly-include-at-minimum-action-label-orderid-actor-userid-or-email-if-readily-available-from-auth-state-and-timestamp",
      "title": "Add an ADMIN-only Audit Logs screen that lists recent audit log entries from Firestore `/auditLogs` in reverse chronological order (newest first), with clear English labels and formatting. The screen must be fully inaccessible to STAFF: it must be hidden from STAFF navigation entry points and must show an access denied screen if a STAFF user reaches the route indirectly. Include at minimum: action label, orderId, actor userId (or email if readily available from auth state), and timestamp.",
      "reqIds": [
        "REQ-79"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-the-audit-logs-screen-into-the-existing-in-app-navigation-for-admin-users-by-adding-an-entry-point-in-the-reports-screen-and-adding-a-new-navigation-route-screen-key-handled-by-the-app-shell-routing-do-not-modify-any-immutable-frontend-paths",
      "title": "Integrate the Audit Logs screen into the existing in-app navigation for ADMIN users by adding an entry point in the Reports screen and adding a new navigation route/screen key handled by the app shell routing. Do not modify any immutable frontend paths.",
      "reqIds": [
        "REQ-80"
      ],
      "version": 1
    },
    {
      "id": "feature-add-concise-documentation-for-required-firestore-security-rules-for-auditlogs-so-that-only-admin-can-read-logs-while-authenticated-users-can-write-logs-place-the-snippet-in-an-existing-firebase-setup-doc-e-g-frontend-firebase-setup-md-and-keep-it-in-english",
      "title": "Add concise documentation for required Firestore security rules for `/auditLogs` so that only ADMIN can read logs while authenticated users can write logs. Place the snippet in an existing Firebase setup doc (e.g., `frontend/FIREBASE_SETUP.md`) and keep it in English.",
      "reqIds": [
        "REQ-81"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Set up new cross-platform mobile app project \"Phoenix Boutique\" targeting Android and iOS",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Implement app shell with navigation (bottom tabs or stack) and route wiring only",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Create empty placeholder screens: Dashboard, New Order, Orders List, Order Details (no UI logic yet)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Configure offline-first local persistence using SQLite (or equivalent) with app runnable without internet",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Ensure app has no authentication and no backend/cloud sync dependencies",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Build Dashboard screen powered by local database: 4 metric tiles (Deliver Today, Pending Orders, This Week’s Deliveries, Total Orders), recent orders list (last 5) with status badge, color-coded tile UI, floating '+ New Order' button, and auto-refresh when new orders are added",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Implement Order Details screen functionality: show full order fields, swipeable image gallery, Edit Order navigation, Mark as Delivered (update status + deliveredAt), Delete with confirmation, and auto-refresh on screen focus",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Add offline export functionality using local database only: export daily orders as CSV, export weekly orders as CSV, and provide a printable summary view (no internet required)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Apply final UI/UX polish with luxury boutique feel using design system colors (Primary #800020, Secondary #FFD700, Background #FFFDD0, Text #36454F), rounded cards, soft shadows, smooth transitions, mobile-first layout (375–414px), fast load, offline-safe flows, and no placeholder data",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Prepare final production builds: Android APK/AAB and iOS IPA ready, clean release build configuration, production-ready assets, and ensure no demo/sample data is included",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Extend Order data model for pricing/payment + audit notes: add priceTotal, advancePaid, balanceAmount (auto), paymentStatus (auto: Unpaid/Partial/Paid), paymentMethod (Cash/UPI/Card/Other), notes; include safe migration/defaults for existing orders",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Update New Order and Edit Order screens to include pricing/payment fields (Total Price required, Advance Paid optional, Balance auto-readonly, Payment Method dropdown, Payment Status auto-derived) with validation (price >= 0, advance <= total) and derived-field behavior (balance = total - advance; status Unpaid/Partial/Paid)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Add an Order Details \"Update Payment\" action to record additional payments after order creation (update advance/full payment), auto-recalculate balance and payment status, preserve payment history, and allow adding audit notes",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Implement audit/analytics calculation utilities for orders: compute Total Revenue, Total Collected (advancePaid + payment history), Total Outstanding, Orders Count, and Paid vs Unpaid breakdown with filters (Today/This Week/This Month/Custom range) and configurable date basis (bookingDate or deliveredAt)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Create an \"Audit & Accounts\" screen with Summary Cards (Total Revenue, Amount Collected, Pending Balance, Total Orders), Time Filters (Today/This Week/This Month/Custom Date Range), and Payment Breakdown (Paid/Partial/Unpaid order counts) with clear ₹ currency display",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Add offline-only audit export features: Weekly Audit CSV and Monthly Audit CSV (columns: Order ID, Customer Name, Total Price, Paid Amount, Balance Amount, Payment Status, Payment Method, Delivery Date) plus a printable audit summary view (all sourced from local DB; no internet/backend)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Generate an Android release APK artifact for installation/distribution (build output deliverable)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Add Firebase integration to Phoenix Boutique: Firebase Auth (Email/Password), Firestore, and Firebase Storage for images, while keeping the existing local SQLite/IndexedDB database intact and maintaining full offline functionality with no loss/removal of existing orders",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Implement Firebase Auth (Email/Password) login with role lookup from Firestore (/users/{uid}), store role in app state, and support offline login using cached role",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Apply role-based access control (RBAC) in the UI for ADMIN vs STAFF: hide/disable restricted screens, fields, and actions (financials, audit/export, delete) and enforce edit limitations for STAFF",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Add ADMIN-only staff management capability (manage staff users/roles) consistent with Firestore /users roles model",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Implement offline-to-online data sync: read unsynced local orders, upload order to Firestore + images to Firebase Storage, persist Firestore ID back into local DB, mark as synced; ensure idempotency (upload only once/no duplicates) and trigger sync on app start, internet reconnect, and manual sync button",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "Extend the local offline Order model to support sync tracking by adding cloudId (string|null), syncStatus (pending|synced), and lastSyncedAt (timestamp|null) without changing existing fields and without adding business rules yet",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Wire role-aware order sanitization + syncOrderToCloud into the app’s existing pending-orders sync flow: STAFF syncs only own orders and excludes financial fields; ADMIN syncs all fields; minimal conflict resolution where admin changes win",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Add audit logging to Firestore (/auditLogs) for key actions (order created/updated, payment updated, order deleted) and restrict log viewing to ADMIN only (RBAC)",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Phoenix Boutique",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}